!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("Megadraft")):"function"==typeof define&&define.amd?define(["React","Megadraft"],t):"object"==typeof exports?exports["megadraft-uploadable-image-plugin"]=t(require("React"),require("Megadraft")):n["megadraft-uploadable-image-plugin"]=t(n.React,n.Megadraft)}("undefined"!=typeof self?self:this,function(n,t){return function(n){function t(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var e={};return t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:r})},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="/dist/",t(t.s=3)}([function(t,e){t.exports=n},function(n,e){n.exports=t},function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={PLUGIN_NAME:"Megadraft Uploadable Image Plugin",PLUGIN_TYPE:"image"}},function(n,t,e){n.exports=e(4)},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},a=e(0),u=r(a),i=e(1),l=e(5),c=r(l),f=e(6),s=r(f),p=e(2),d=r(p);t.default=function(n){var t=n.handleUpload;return{title:d.default.PLUGIN_NAME,type:d.default.PLUGIN_TYPE,buttonComponent:c.default,blockComponent:function(n){return u.default.createElement(s.default,o({},n,{onUpload:t}))},options:{defaultDisplay:"medium",displayOptions:[{key:"small",icon:i.MegadraftIcons.MediaSmallIcon,label:"SMALL"},{key:"medium",icon:i.MegadraftIcons.MediaMediumIcon,label:"MEDIUM"},{key:"big",icon:i.MegadraftIcons.MediaBigIcon,label:"BIG"}]},data:{alt:"",caption:"",rightsHolder:"",src:""}}}},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function a(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":i(t))&&"function"!=typeof t?n:t}function u(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":i(t)));n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),c=e(0),f=r(c),s=e(2),p=r(s),d=e(1),h=function(n){function t(n){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return e.onClick=function(n){n.preventDefault();var t={alt:"",caption:"",display:"medium",rightsHolder:"",src:"",type:p.default.PLUGIN_TYPE};e.props.onChange((0,d.insertDataBlock)(e.props.editorState,t))},e.onClick=e.onClick.bind(e),e}return u(t,n),l(t,[{key:"render",value:function(){return f.default.createElement("button",{className:this.props.className,type:"button",onClick:this.onClick,title:p.default.PLUGIN_NAME},f.default.createElement(d.MegadraftIcons.ImageIcon,{className:"sidemenu__button__icon"}))}}]),t}(c.Component);t.default=h},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}function o(n,t){var e={};for(var r in n)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}function a(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function u(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":l(t))&&"function"!=typeof t?n:t}function i(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":l(t)));n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},f=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),s=e(0),p=r(s),d=e(1),h=e(7),y=e(10),v=r(y),g=d.MegadraftPlugin.BlockContent,b=d.MegadraftPlugin.BlockData,m=d.MegadraftPlugin.BlockInput,_=d.MegadraftPlugin.CommonBlock,j=function(n){function t(n){a(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return e._loadImageWhenUserStopsTyping=(0,h.debounce)(function(){e.props.container.updateData({src:e.state.src}),e.setState({typing:!1})},1e3),e._handleUploadImage=e._handleUploadImage.bind(e),e._handleUrlChange=e._handleUrlChange.bind(e),e._handleAltChange=e._handleAltChange.bind(e),e._handleCaptionChange=e._handleCaptionChange.bind(e),e._handleRightsHolderChange=e._handleRightsHolderChange.bind(e),e._loadImageWhenUserStopsTyping=e._loadImageWhenUserStopsTyping.bind(e),e._uploadInput=p.default.createRef(),e.actions=[{key:"delete",icon:d.MegadraftIcons.DeleteIcon,action:e.props.container.remove}],e.state={src:e.props.data.src,typing:!1,uploadError:""},e}return i(t,n),f(t,null,[{key:"getDerivedStateFromProps",value:function(n,t){return n.data.src&&!1===t.typing?{src:n.data.src}:null}}]),f(t,[{key:"_handleCaptionChange",value:function(n){n.stopPropagation(),this.props.container.updateData({caption:n.target.value})}},{key:"_handleRightsHolderChange",value:function(n){n.stopPropagation(),this.props.container.updateData({rightsHolder:n.target.value})}},{key:"_handleUrlChange",value:function(n){var t=this;n.stopPropagation(),this.setState({src:n.target.value,typing:!0},function(){return t._loadImageWhenUserStopsTyping()})}},{key:"_handleAltChange",value:function(n){n.stopPropagation(),this.props.container.updateData({alt:n.target.value})}},{key:"_handleUploadImage",value:function(n){var t=this;this.props.onUpload(n).then(function(n){t.props.container.updateData({src:n.src})}).catch(function(n){return t.setState({uploadError:n.message})})}},{key:"render",value:function(){var n=o(this.props,[]),t=this.state.uploadError;return p.default.createElement(_,c({},n,{actions:this.actions}),p.default.createElement(g,null,this.props.data.src?p.default.createElement("img",{alt:this.props.data.alt,className:"muipImage muipImage--"+this.props.data.display,src:this.props.data.src}):null),p.default.createElement(b,null,p.default.createElement(m,{placeholder:"Image Url",value:this.state.src,onChange:this._handleUrlChange}),p.default.createElement(m,{placeholder:"Image Alt",value:this.props.data.alt,onChange:this._handleAltChange}),p.default.createElement(m,{placeholder:"Caption",value:this.props.data.caption,onChange:this._handleCaptionChange}),p.default.createElement(m,{placeholder:"Rights Holder",value:this.props.data.rightsHolder,onChange:this._handleRightsHolderChange}),p.default.createElement(v.default,{onChange:this._handleUploadImage,error:t})))}}]),t}(s.Component);t.default=j},function(n,t,e){(function(n,e){var r,o;!function(){var a="object"==typeof self&&self.self===self&&self||"object"==typeof n&&n.global===n&&n||this||{},u=a._,i=Array.prototype,l=Object.prototype,c="undefined"!=typeof Symbol?Symbol.prototype:null,f=i.push,s=i.slice,p=l.toString,d=l.hasOwnProperty,h=Array.isArray,y=Object.keys,v=Object.create,g=function(){},b=function(n){return n instanceof b?n:this instanceof b?void(this._wrapped=n):new b(n)};void 0===t||t.nodeType?a._=b:(void 0!==e&&!e.nodeType&&e.exports&&(t=e.exports=b),t._=b),b.VERSION="1.9.1";var m,_=function(n,t,e){if(void 0===t)return n;switch(null==e?3:e){case 1:return function(e){return n.call(t,e)};case 3:return function(e,r,o){return n.call(t,e,r,o)};case 4:return function(e,r,o,a){return n.call(t,e,r,o,a)}}return function(){return n.apply(t,arguments)}},j=function(n,t,e){return b.iteratee!==m?b.iteratee(n,t):null==n?b.identity:b.isFunction(n)?_(n,t,e):b.isObject(n)&&!b.isArray(n)?b.matcher(n):b.property(n)};b.iteratee=m=function(n,t){return j(n,t,1/0)};var O=function(n,t){return t=null==t?n.length-1:+t,function(){for(var e=Math.max(arguments.length-t,0),r=Array(e),o=0;o<e;o++)r[o]=arguments[o+t];switch(t){case 0:return n.call(this,r);case 1:return n.call(this,arguments[0],r);case 2:return n.call(this,arguments[0],arguments[1],r)}var a=Array(t+1);for(o=0;o<t;o++)a[o]=arguments[o];return a[t]=r,n.apply(this,a)}},w=function(n){if(!b.isObject(n))return{};if(v)return v(n);g.prototype=n;var t=new g;return g.prototype=null,t},k=function(n){return function(t){return null==t?void 0:t[n]}},x=function(n,t){return null!=n&&d.call(n,t)},S=function(n,t){for(var e=t.length,r=0;r<e;r++){if(null==n)return;n=n[t[r]]}return e?n:void 0},P=Math.pow(2,53)-1,E=k("length"),M=function(n){var t=E(n);return"number"==typeof t&&t>=0&&t<=P};b.each=b.forEach=function(n,t,e){t=_(t,e);var r,o;if(M(n))for(r=0,o=n.length;r<o;r++)t(n[r],r,n);else{var a=b.keys(n);for(r=0,o=a.length;r<o;r++)t(n[a[r]],a[r],n)}return n},b.map=b.collect=function(n,t,e){t=j(t,e);for(var r=!M(n)&&b.keys(n),o=(r||n).length,a=Array(o),u=0;u<o;u++){var i=r?r[u]:u;a[u]=t(n[i],i,n)}return a};var C=function(n){var t=function(t,e,r,o){var a=!M(t)&&b.keys(t),u=(a||t).length,i=n>0?0:u-1;for(o||(r=t[a?a[i]:i],i+=n);i>=0&&i<u;i+=n){var l=a?a[i]:i;r=e(r,t[l],l,t)}return r};return function(n,e,r,o){var a=arguments.length>=3;return t(n,_(e,o,4),r,a)}};b.reduce=b.foldl=b.inject=C(1),b.reduceRight=b.foldr=C(-1),b.find=b.detect=function(n,t,e){var r=M(n)?b.findIndex:b.findKey,o=r(n,t,e);if(void 0!==o&&-1!==o)return n[o]},b.filter=b.select=function(n,t,e){var r=[];return t=j(t,e),b.each(n,function(n,e,o){t(n,e,o)&&r.push(n)}),r},b.reject=function(n,t,e){return b.filter(n,b.negate(j(t)),e)},b.every=b.all=function(n,t,e){t=j(t,e);for(var r=!M(n)&&b.keys(n),o=(r||n).length,a=0;a<o;a++){var u=r?r[a]:a;if(!t(n[u],u,n))return!1}return!0},b.some=b.any=function(n,t,e){t=j(t,e);for(var r=!M(n)&&b.keys(n),o=(r||n).length,a=0;a<o;a++){var u=r?r[a]:a;if(t(n[u],u,n))return!0}return!1},b.contains=b.includes=b.include=function(n,t,e,r){return M(n)||(n=b.values(n)),("number"!=typeof e||r)&&(e=0),b.indexOf(n,t,e)>=0},b.invoke=O(function(n,t,e){var r,o;return b.isFunction(t)?o=t:b.isArray(t)&&(r=t.slice(0,-1),t=t[t.length-1]),b.map(n,function(n){var a=o;if(!a){if(r&&r.length&&(n=S(n,r)),null==n)return;a=n[t]}return null==a?a:a.apply(n,e)})}),b.pluck=function(n,t){return b.map(n,b.property(t))},b.where=function(n,t){return b.filter(n,b.matcher(t))},b.findWhere=function(n,t){return b.find(n,b.matcher(t))},b.max=function(n,t,e){var r,o,a=-1/0,u=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof n[0]&&null!=n){n=M(n)?n:b.values(n);for(var i=0,l=n.length;i<l;i++)null!=(r=n[i])&&r>a&&(a=r)}else t=j(t,e),b.each(n,function(n,e,r){((o=t(n,e,r))>u||o===-1/0&&a===-1/0)&&(a=n,u=o)});return a},b.min=function(n,t,e){var r,o,a=1/0,u=1/0;if(null==t||"number"==typeof t&&"object"!=typeof n[0]&&null!=n){n=M(n)?n:b.values(n);for(var i=0,l=n.length;i<l;i++)null!=(r=n[i])&&r<a&&(a=r)}else t=j(t,e),b.each(n,function(n,e,r){((o=t(n,e,r))<u||o===1/0&&a===1/0)&&(a=n,u=o)});return a},b.shuffle=function(n){return b.sample(n,1/0)},b.sample=function(n,t,e){if(null==t||e)return M(n)||(n=b.values(n)),n[b.random(n.length-1)];var r=M(n)?b.clone(n):b.values(n),o=E(r);t=Math.max(Math.min(t,o),0);for(var a=o-1,u=0;u<t;u++){var i=b.random(u,a),l=r[u];r[u]=r[i],r[i]=l}return r.slice(0,t)},b.sortBy=function(n,t,e){var r=0;return t=j(t,e),b.pluck(b.map(n,function(n,e,o){return{value:n,index:r++,criteria:t(n,e,o)}}).sort(function(n,t){var e=n.criteria,r=t.criteria;if(e!==r){if(e>r||void 0===e)return 1;if(e<r||void 0===r)return-1}return n.index-t.index}),"value")};var A=function(n,t){return function(e,r,o){var a=t?[[],[]]:{};return r=j(r,o),b.each(e,function(t,o){var u=r(t,o,e);n(a,t,u)}),a}};b.groupBy=A(function(n,t,e){x(n,e)?n[e].push(t):n[e]=[t]}),b.indexBy=A(function(n,t,e){n[e]=t}),b.countBy=A(function(n,t,e){x(n,e)?n[e]++:n[e]=1});var I=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;b.toArray=function(n){return n?b.isArray(n)?s.call(n):b.isString(n)?n.match(I):M(n)?b.map(n,b.identity):b.values(n):[]},b.size=function(n){return null==n?0:M(n)?n.length:b.keys(n).length},b.partition=A(function(n,t,e){n[e?0:1].push(t)},!0),b.first=b.head=b.take=function(n,t,e){return null==n||n.length<1?null==t?void 0:[]:null==t||e?n[0]:b.initial(n,n.length-t)},b.initial=function(n,t,e){return s.call(n,0,Math.max(0,n.length-(null==t||e?1:t)))},b.last=function(n,t,e){return null==n||n.length<1?null==t?void 0:[]:null==t||e?n[n.length-1]:b.rest(n,Math.max(0,n.length-t))},b.rest=b.tail=b.drop=function(n,t,e){return s.call(n,null==t||e?1:t)},b.compact=function(n){return b.filter(n,Boolean)};var N=function(n,t,e,r){r=r||[];for(var o=r.length,a=0,u=E(n);a<u;a++){var i=n[a];if(M(i)&&(b.isArray(i)||b.isArguments(i)))if(t)for(var l=0,c=i.length;l<c;)r[o++]=i[l++];else N(i,t,e,r),o=r.length;else e||(r[o++]=i)}return r};b.flatten=function(n,t){return N(n,t,!1)},b.without=O(function(n,t){return b.difference(n,t)}),b.uniq=b.unique=function(n,t,e,r){b.isBoolean(t)||(r=e,e=t,t=!1),null!=e&&(e=j(e,r));for(var o=[],a=[],u=0,i=E(n);u<i;u++){var l=n[u],c=e?e(l,u,n):l;t&&!e?(u&&a===c||o.push(l),a=c):e?b.contains(a,c)||(a.push(c),o.push(l)):b.contains(o,l)||o.push(l)}return o},b.union=O(function(n){return b.uniq(N(n,!0,!0))}),b.intersection=function(n){for(var t=[],e=arguments.length,r=0,o=E(n);r<o;r++){var a=n[r];if(!b.contains(t,a)){var u;for(u=1;u<e&&b.contains(arguments[u],a);u++);u===e&&t.push(a)}}return t},b.difference=O(function(n,t){return t=N(t,!0,!0),b.filter(n,function(n){return!b.contains(t,n)})}),b.unzip=function(n){for(var t=n&&b.max(n,E).length||0,e=Array(t),r=0;r<t;r++)e[r]=b.pluck(n,r);return e},b.zip=O(b.unzip),b.object=function(n,t){for(var e={},r=0,o=E(n);r<o;r++)t?e[n[r]]=t[r]:e[n[r][0]]=n[r][1];return e};var T=function(n){return function(t,e,r){e=j(e,r);for(var o=E(t),a=n>0?0:o-1;a>=0&&a<o;a+=n)if(e(t[a],a,t))return a;return-1}};b.findIndex=T(1),b.findLastIndex=T(-1),b.sortedIndex=function(n,t,e,r){e=j(e,r,1);for(var o=e(t),a=0,u=E(n);a<u;){var i=Math.floor((a+u)/2);e(n[i])<o?a=i+1:u=i}return a};var U=function(n,t,e){return function(r,o,a){var u=0,i=E(r);if("number"==typeof a)n>0?u=a>=0?a:Math.max(a+i,u):i=a>=0?Math.min(a+1,i):a+i+1;else if(e&&a&&i)return a=e(r,o),r[a]===o?a:-1;if(o!==o)return a=t(s.call(r,u,i),b.isNaN),a>=0?a+u:-1;for(a=n>0?u:i-1;a>=0&&a<i;a+=n)if(r[a]===o)return a;return-1}};b.indexOf=U(1,b.findIndex,b.sortedIndex),b.lastIndexOf=U(-1,b.findLastIndex),b.range=function(n,t,e){null==t&&(t=n||0,n=0),e||(e=t<n?-1:1);for(var r=Math.max(Math.ceil((t-n)/e),0),o=Array(r),a=0;a<r;a++,n+=e)o[a]=n;return o},b.chunk=function(n,t){if(null==t||t<1)return[];for(var e=[],r=0,o=n.length;r<o;)e.push(s.call(n,r,r+=t));return e};var R=function(n,t,e,r,o){if(!(r instanceof t))return n.apply(e,o);var a=w(n.prototype),u=n.apply(a,o);return b.isObject(u)?u:a};b.bind=O(function(n,t,e){if(!b.isFunction(n))throw new TypeError("Bind must be called on a function");var r=O(function(o){return R(n,r,t,this,e.concat(o))});return r}),b.partial=O(function(n,t){var e=b.partial.placeholder,r=function(){for(var o=0,a=t.length,u=Array(a),i=0;i<a;i++)u[i]=t[i]===e?arguments[o++]:t[i];for(;o<arguments.length;)u.push(arguments[o++]);return R(n,r,this,this,u)};return r}),b.partial.placeholder=b,b.bindAll=O(function(n,t){t=N(t,!1,!1);var e=t.length;if(e<1)throw new Error("bindAll must be passed function names");for(;e--;){var r=t[e];n[r]=b.bind(n[r],n)}}),b.memoize=function(n,t){var e=function(r){var o=e.cache,a=""+(t?t.apply(this,arguments):r);return x(o,a)||(o[a]=n.apply(this,arguments)),o[a]};return e.cache={},e},b.delay=O(function(n,t,e){return setTimeout(function(){return n.apply(null,e)},t)}),b.defer=b.partial(b.delay,b,1),b.throttle=function(n,t,e){var r,o,a,u,i=0;e||(e={});var l=function(){i=!1===e.leading?0:b.now(),r=null,u=n.apply(o,a),r||(o=a=null)},c=function(){var c=b.now();i||!1!==e.leading||(i=c);var f=t-(c-i);return o=this,a=arguments,f<=0||f>t?(r&&(clearTimeout(r),r=null),i=c,u=n.apply(o,a),r||(o=a=null)):r||!1===e.trailing||(r=setTimeout(l,f)),u};return c.cancel=function(){clearTimeout(r),i=0,r=o=a=null},c},b.debounce=function(n,t,e){var r,o,a=function(t,e){r=null,e&&(o=n.apply(t,e))},u=O(function(u){if(r&&clearTimeout(r),e){var i=!r;r=setTimeout(a,t),i&&(o=n.apply(this,u))}else r=b.delay(a,t,this,u);return o});return u.cancel=function(){clearTimeout(r),r=null},u},b.wrap=function(n,t){return b.partial(t,n)},b.negate=function(n){return function(){return!n.apply(this,arguments)}},b.compose=function(){var n=arguments,t=n.length-1;return function(){for(var e=t,r=n[t].apply(this,arguments);e--;)r=n[e].call(this,r);return r}},b.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},b.before=function(n,t){var e;return function(){return--n>0&&(e=t.apply(this,arguments)),n<=1&&(t=null),e}},b.once=b.partial(b.before,2),b.restArguments=O;var D=!{toString:null}.propertyIsEnumerable("toString"),F=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],B=function(n,t){var e=F.length,r=n.constructor,o=b.isFunction(r)&&r.prototype||l,a="constructor";for(x(n,a)&&!b.contains(t,a)&&t.push(a);e--;)(a=F[e])in n&&n[a]!==o[a]&&!b.contains(t,a)&&t.push(a)};b.keys=function(n){if(!b.isObject(n))return[];if(y)return y(n);var t=[];for(var e in n)x(n,e)&&t.push(e);return D&&B(n,t),t},b.allKeys=function(n){if(!b.isObject(n))return[];var t=[];for(var e in n)t.push(e);return D&&B(n,t),t},b.values=function(n){for(var t=b.keys(n),e=t.length,r=Array(e),o=0;o<e;o++)r[o]=n[t[o]];return r},b.mapObject=function(n,t,e){t=j(t,e);for(var r=b.keys(n),o=r.length,a={},u=0;u<o;u++){var i=r[u];a[i]=t(n[i],i,n)}return a},b.pairs=function(n){for(var t=b.keys(n),e=t.length,r=Array(e),o=0;o<e;o++)r[o]=[t[o],n[t[o]]];return r},b.invert=function(n){for(var t={},e=b.keys(n),r=0,o=e.length;r<o;r++)t[n[e[r]]]=e[r];return t},b.functions=b.methods=function(n){var t=[];for(var e in n)b.isFunction(n[e])&&t.push(e);return t.sort()};var L=function(n,t){return function(e){var r=arguments.length;if(t&&(e=Object(e)),r<2||null==e)return e;for(var o=1;o<r;o++)for(var a=arguments[o],u=n(a),i=u.length,l=0;l<i;l++){var c=u[l];t&&void 0!==e[c]||(e[c]=a[c])}return e}};b.extend=L(b.allKeys),b.extendOwn=b.assign=L(b.keys),b.findKey=function(n,t,e){t=j(t,e);for(var r,o=b.keys(n),a=0,u=o.length;a<u;a++)if(r=o[a],t(n[r],r,n))return r};var q=function(n,t,e){return t in e};b.pick=O(function(n,t){var e={},r=t[0];if(null==n)return e;b.isFunction(r)?(t.length>1&&(r=_(r,t[1])),t=b.allKeys(n)):(r=q,t=N(t,!1,!1),n=Object(n));for(var o=0,a=t.length;o<a;o++){var u=t[o],i=n[u];r(i,u,n)&&(e[u]=i)}return e}),b.omit=O(function(n,t){var e,r=t[0];return b.isFunction(r)?(r=b.negate(r),t.length>1&&(e=t[1])):(t=b.map(N(t,!1,!1),String),r=function(n,e){return!b.contains(t,e)}),b.pick(n,r,e)}),b.defaults=L(b.allKeys,!0),b.create=function(n,t){var e=w(n);return t&&b.extendOwn(e,t),e},b.clone=function(n){return b.isObject(n)?b.isArray(n)?n.slice():b.extend({},n):n},b.tap=function(n,t){return t(n),n},b.isMatch=function(n,t){var e=b.keys(t),r=e.length;if(null==n)return!r;for(var o=Object(n),a=0;a<r;a++){var u=e[a];if(t[u]!==o[u]||!(u in o))return!1}return!0};var H,G;H=function(n,t,e,r){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return!1;if(n!==n)return t!==t;var o=typeof n;return("function"===o||"object"===o||"object"==typeof t)&&G(n,t,e,r)},G=function(n,t,e,r){n instanceof b&&(n=n._wrapped),t instanceof b&&(t=t._wrapped);var o=p.call(n);if(o!==p.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!=+n?+t!=+t:0==+n?1/+n==1/t:+n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object Symbol]":return c.valueOf.call(n)===c.valueOf.call(t)}var a="[object Array]"===o;if(!a){if("object"!=typeof n||"object"!=typeof t)return!1;var u=n.constructor,i=t.constructor;if(u!==i&&!(b.isFunction(u)&&u instanceof u&&b.isFunction(i)&&i instanceof i)&&"constructor"in n&&"constructor"in t)return!1}e=e||[],r=r||[];for(var l=e.length;l--;)if(e[l]===n)return r[l]===t;if(e.push(n),r.push(t),a){if((l=n.length)!==t.length)return!1;for(;l--;)if(!H(n[l],t[l],e,r))return!1}else{var f,s=b.keys(n);if(l=s.length,b.keys(t).length!==l)return!1;for(;l--;)if(f=s[l],!x(t,f)||!H(n[f],t[f],e,r))return!1}return e.pop(),r.pop(),!0},b.isEqual=function(n,t){return H(n,t)},b.isEmpty=function(n){return null==n||(M(n)&&(b.isArray(n)||b.isString(n)||b.isArguments(n))?0===n.length:0===b.keys(n).length)},b.isElement=function(n){return!(!n||1!==n.nodeType)},b.isArray=h||function(n){return"[object Array]"===p.call(n)},b.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},b.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(n){b["is"+n]=function(t){return p.call(t)==="[object "+n+"]"}}),b.isArguments(arguments)||(b.isArguments=function(n){return x(n,"callee")});var W=a.document&&a.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof W&&(b.isFunction=function(n){return"function"==typeof n||!1}),b.isFinite=function(n){return!b.isSymbol(n)&&isFinite(n)&&!isNaN(parseFloat(n))},b.isNaN=function(n){return b.isNumber(n)&&isNaN(n)},b.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"===p.call(n)},b.isNull=function(n){return null===n},b.isUndefined=function(n){return void 0===n},b.has=function(n,t){if(!b.isArray(t))return x(n,t);for(var e=t.length,r=0;r<e;r++){var o=t[r];if(null==n||!d.call(n,o))return!1;n=n[o]}return!!e},b.noConflict=function(){return a._=u,this},b.identity=function(n){return n},b.constant=function(n){return function(){return n}},b.noop=function(){},b.property=function(n){return b.isArray(n)?function(t){return S(t,n)}:k(n)},b.propertyOf=function(n){return null==n?function(){}:function(t){return b.isArray(t)?S(n,t):n[t]}},b.matcher=b.matches=function(n){return n=b.extendOwn({},n),function(t){return b.isMatch(t,n)}},b.times=function(n,t,e){var r=Array(Math.max(0,n));t=_(t,e,1);for(var o=0;o<n;o++)r[o]=t(o);return r},b.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},b.now=Date.now||function(){return(new Date).getTime()};var K={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},z=b.invert(K),Y=function(n){var t=function(t){return n[t]},e="(?:"+b.keys(n).join("|")+")",r=RegExp(e),o=RegExp(e,"g");return function(n){return n=null==n?"":""+n,r.test(n)?n.replace(o,t):n}};b.escape=Y(K),b.unescape=Y(z),b.result=function(n,t,e){b.isArray(t)||(t=[t]);var r=t.length;if(!r)return b.isFunction(e)?e.call(n):e;for(var o=0;o<r;o++){var a=null==n?void 0:n[t[o]];void 0===a&&(a=e,o=r),n=b.isFunction(a)?a.call(n):a}return n};var J=0;b.uniqueId=function(n){var t=++J+"";return n?n+t:t},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var V=/(.)^/,$={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Q=/\\|'|\r|\n|\u2028|\u2029/g,X=function(n){return"\\"+$[n]};b.template=function(n,t,e){!t&&e&&(t=e),t=b.defaults({},t,b.templateSettings);var r=RegExp([(t.escape||V).source,(t.interpolate||V).source,(t.evaluate||V).source].join("|")+"|$","g"),o=0,a="__p+='";n.replace(r,function(t,e,r,u,i){return a+=n.slice(o,i).replace(Q,X),o=i+t.length,e?a+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":u&&(a+="';\n"+u+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";var u;try{u=new Function(t.variable||"obj","_",a)}catch(n){throw n.source=a,n}var i=function(n){return u.call(this,n,b)};return i.source="function("+(t.variable||"obj")+"){\n"+a+"}",i},b.chain=function(n){var t=b(n);return t._chain=!0,t};var Z=function(n,t){return n._chain?b(t).chain():t};b.mixin=function(n){return b.each(b.functions(n),function(t){var e=b[t]=n[t];b.prototype[t]=function(){var n=[this._wrapped];return f.apply(n,arguments),Z(this,e.apply(b,n))}}),b},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=i[n];b.prototype[n]=function(){var e=this._wrapped;return t.apply(e,arguments),"shift"!==n&&"splice"!==n||0!==e.length||delete e[0],Z(this,e)}}),b.each(["concat","join","slice"],function(n){var t=i[n];b.prototype[n]=function(){return Z(this,t.apply(this._wrapped,arguments))}}),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return String(this._wrapped)},r=[],void 0!==(o=function(){return b}.apply(t,r))&&(e.exports=o)}()}).call(t,e(8),e(9)(n))},function(n,t){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(n){"object"==typeof window&&(e=window)}n.exports=e},function(n,t){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}function o(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function a(n,t){var e={};for(var r in n)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function i(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":c(t))&&"function"!=typeof t?n:t}function l(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":c(t)));n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var f=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},s=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),p=e(0),d=r(p),h=e(11),y=r(h),v=function(n){function t(n){u(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return e._inputRef=d.default.createRef(),e._handleChange=e._handleChange.bind(e),e}return l(t,n),s(t,[{key:"renderError",value:function(n){if(n)return d.default.createElement("div",{className:"block__input__error-text"},n)}},{key:"_handleDrop",value:function(n){n.preventDefault(),n.stopPropagation()}},{key:"_handleChange",value:function(n){n.preventDefault(),n.stopPropagation(),this.props.onChange(this._inputRef.current.files)}},{key:"render",value:function(){var n,t=this.props,e=t.value,r=t.error,u=t.styles,i=(t.onChange,a(t,["value","error","styles","onChange"]));u=u||{};var l=(0,y.default)((n={block__input:!0,"block__input--empty":!e,"block__input--error":r},o(n,"block__input--"+u.padding+"-padding",u.padding),o(n,"block__input--"+u.text+"-text",u.text),n));return d.default.createElement("div",{className:"block__input__row"},d.default.createElement("div",{className:"block__input__wrapper"},d.default.createElement("input",f({},i,{ref:this._inputRef,type:"file",className:l,onDrop:this._handleDrop,onChange:this._handleChange}))),this.renderError(r))}}]),t}(p.Component);t.default=v},function(n,t,e){var r,o;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";function e(){for(var n=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)n.push(r);else if(Array.isArray(r)&&r.length){var u=e.apply(null,r);u&&n.push(u)}else if("object"===o)for(var i in r)a.call(r,i)&&r[i]&&n.push(i)}}return n.join(" ")}var a={}.hasOwnProperty;void 0!==n&&n.exports?(e.default=e,n.exports=e):(r=[],void 0!==(o=function(){return e}.apply(t,r))&&(n.exports=o))}()}])});
//# sourceMappingURL=megadraft-uploadable-image-plugin.js.map