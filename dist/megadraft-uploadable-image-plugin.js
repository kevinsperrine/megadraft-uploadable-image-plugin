!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("Megadraft")):"function"==typeof define&&define.amd?define(["React","Megadraft"],t):"object"==typeof exports?exports["megadraft-uploadable-image-plugin"]=t(require("React"),require("Megadraft")):e["megadraft-uploadable-image-plugin"]=t(e.React,e.Megadraft)}("undefined"!=typeof self?self:this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=3)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={PLUGIN_NAME:"Megadraft Uploadable Image Plugin",PLUGIN_TYPE:"image"}},function(e,t,n){e.exports=n(4)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),u=r(o),i=n(1),l=n(5),c=r(l),f=n(6),s=r(f),p=n(2),d=r(p);t.default=function(e){var t=e.handleUpload;return{title:d.default.PLUGIN_NAME,type:d.default.PLUGIN_TYPE,buttonComponent:c.default,blockComponent:function(e){return u.default.createElement(s.default,a({},e,{onUpload:t}))},options:{defaultDisplay:"medium",displayOptions:[{key:"small",icon:i.MegadraftIcons.MediaSmallIcon,label:"SMALL"},{key:"medium",icon:i.MegadraftIcons.MediaMediumIcon,label:"MEDIUM"},{key:"big",icon:i.MegadraftIcons.MediaBigIcon,label:"BIG"}]},data:{alt:"",caption:"",rightsHolder:"",src:""}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":i(t))&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":i(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),f=r(c),s=n(2),p=r(s),d=n(1),h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=function(e){e.preventDefault();var t={alt:"",caption:"",display:"medium",rightsHolder:"",src:"",target:"_self",type:p.default.PLUGIN_TYPE,url:""};n.props.onChange((0,d.insertDataBlock)(n.props.editorState,t))},n.onClick=n.onClick.bind(n),n}return u(t,e),l(t,[{key:"render",value:function(){return f.default.createElement("button",{className:this.props.className,type:"button",onClick:this.onClick,title:p.default.PLUGIN_NAME},f.default.createElement(d.MegadraftIcons.ImageIcon,{className:"sidemenu__button__icon"}))}}]),t}(c.Component);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":l(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":l(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),p=r(s),d=n(1),h=n(7),y=n(10),v=r(y),g=d.MegadraftPlugin.BlockContent,m=d.MegadraftPlugin.BlockData,b=d.MegadraftPlugin.BlockInput,_=d.MegadraftPlugin.CommonBlock,j=function(e){function t(e){o(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._loadImageWhenUserStopsTyping=(0,h.debounce)(function(){n.props.container.updateData({src:n.state.src}),n.setState({typing:!1})},1e3),n._handleUploadImage=n._handleUploadImage.bind(n),n._handleSrcChange=n._handleSrcChange.bind(n),n._handleTargetChange=n._handleTargetChange.bind(n),n._handleUrlChange=n._handleUrlChange.bind(n),n._handleAltChange=n._handleAltChange.bind(n),n._handleCaptionChange=n._handleCaptionChange.bind(n),n._handleRightsHolderChange=n._handleRightsHolderChange.bind(n),n._loadImageWhenUserStopsTyping=n._loadImageWhenUserStopsTyping.bind(n),n._uploadInput=p.default.createRef(),n.actions=[{key:"delete",icon:d.MegadraftIcons.DeleteIcon,action:n.props.container.remove}],n.state={src:n.props.data.src,typing:!1,uploadError:""},n}return i(t,e),f(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return e.data.src&&!1===t.typing?{src:e.data.src}:null}}]),f(t,[{key:"_handleCaptionChange",value:function(e){e.stopPropagation(),this.props.container.updateData({caption:e.target.value})}},{key:"_handleRightsHolderChange",value:function(e){e.stopPropagation(),this.props.container.updateData({rightsHolder:e.target.value})}},{key:"_handleSrcChange",value:function(e){var t=this;e.stopPropagation(),this.setState({src:e.target.value,typing:!0},function(){return t._loadImageWhenUserStopsTyping()})}},{key:"_handleUrlChange",value:function(e){e.stopPropagation(),this.props.container.updateData({url:e.target.value})}},{key:"_handleTargetChange",value:function(e){e.stopPropagation(),this.props.container.updateData({target:e.target.value})}},{key:"_handleAltChange",value:function(e){e.stopPropagation(),this.props.container.updateData({alt:e.target.value})}},{key:"_handleUploadImage",value:function(e){var t=this;this.props.onUpload(e).then(function(e){t.props.container.updateData({src:e.src})}).catch(function(e){return t.setState({uploadError:e.message})})}},{key:"render",value:function(){var e=a(this.props,[]),t=this.state.uploadError;return p.default.createElement(_,c({},e,{actions:this.actions}),p.default.createElement(g,null,this.props.data.src?p.default.createElement("img",{alt:this.props.data.alt,className:"muipImage muipImage--"+this.props.data.display,src:this.props.data.src}):null),p.default.createElement(m,null,p.default.createElement("fieldset",null,p.default.createElement("legend",{className:"muipLegend"},"Link"),p.default.createElement(b,{placeholder:"Link",value:this.props.data.url,onChange:this._handleUrlChange}),p.default.createElement("div",{className:"block__input__row"},p.default.createElement("div",{className:"block__input__wrapper"},p.default.createElement("span",{className:"block__input muipRadioInput"},p.default.createElement("span",{style:{marginRight:"12px"}},"Open Link:"),p.default.createElement("input",{name:"target",type:"radio",value:"_self",checked:"_self"===this.props.data.target,onChange:this._handleTargetChange})," ","In-App"),p.default.createElement("span",{className:"block__input muipRadioInput"},p.default.createElement("input",{name:"target",type:"radio",value:"_blank",checked:"_blank"===this.props.data.target,onChange:this._handleTargetChange})," ","External"),p.default.createElement("span",{className:"muipHelperText"},"If being used on the web, 'In-App' will open the link in the same tab and 'External' will open a new tab.")))),p.default.createElement("fieldset",null,p.default.createElement("legend",{className:"muipLegend"},"Image"),p.default.createElement(b,{placeholder:"Image Url",value:this.state.src,onChange:this._handleSrcChange}),p.default.createElement(b,{placeholder:"Image Alt",value:this.props.data.alt,onChange:this._handleAltChange}),p.default.createElement(b,{placeholder:"Caption",value:this.props.data.caption,onChange:this._handleCaptionChange}),p.default.createElement(b,{placeholder:"Rights Holder",value:this.props.data.rightsHolder,onChange:this._handleRightsHolderChange}),p.default.createElement(v.default,{onChange:this._handleUploadImage,error:t}))))}}]),t}(s.Component);t.default=j},function(e,t,n){(function(e,n){var r,a;!function(){var o="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this||{},u=o._,i=Array.prototype,l=Object.prototype,c="undefined"!=typeof Symbol?Symbol.prototype:null,f=i.push,s=i.slice,p=l.toString,d=l.hasOwnProperty,h=Array.isArray,y=Object.keys,v=Object.create,g=function(){},m=function(e){return e instanceof m?e:this instanceof m?void(this._wrapped=e):new m(e)};void 0===t||t.nodeType?o._=m:(void 0!==n&&!n.nodeType&&n.exports&&(t=n.exports=m),t._=m),m.VERSION="1.9.1";var b,_=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,a){return e.call(t,n,r,a)};case 4:return function(n,r,a,o){return e.call(t,n,r,a,o)}}return function(){return e.apply(t,arguments)}},j=function(e,t,n){return m.iteratee!==b?m.iteratee(e,t):null==e?m.identity:m.isFunction(e)?_(e,t,n):m.isObject(e)&&!m.isArray(e)?m.matcher(e):m.property(e)};m.iteratee=b=function(e,t){return j(e,t,1/0)};var k=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),a=0;a<n;a++)r[a]=arguments[a+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var o=Array(t+1);for(a=0;a<t;a++)o[a]=arguments[a];return o[t]=r,e.apply(this,o)}},O=function(e){if(!m.isObject(e))return{};if(v)return v(e);g.prototype=e;var t=new g;return g.prototype=null,t},w=function(e){return function(t){return null==t?void 0:t[e]}},x=function(e,t){return null!=e&&d.call(e,t)},E=function(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0},C=Math.pow(2,53)-1,S=w("length"),P=function(e){var t=S(e);return"number"==typeof t&&t>=0&&t<=C};m.each=m.forEach=function(e,t,n){t=_(t,n);var r,a;if(P(e))for(r=0,a=e.length;r<a;r++)t(e[r],r,e);else{var o=m.keys(e);for(r=0,a=o.length;r<a;r++)t(e[o[r]],o[r],e)}return e},m.map=m.collect=function(e,t,n){t=j(t,n);for(var r=!P(e)&&m.keys(e),a=(r||e).length,o=Array(a),u=0;u<a;u++){var i=r?r[u]:u;o[u]=t(e[i],i,e)}return o};var I=function(e){var t=function(t,n,r,a){var o=!P(t)&&m.keys(t),u=(o||t).length,i=e>0?0:u-1;for(a||(r=t[o?o[i]:i],i+=e);i>=0&&i<u;i+=e){var l=o?o[i]:i;r=n(r,t[l],l,t)}return r};return function(e,n,r,a){var o=arguments.length>=3;return t(e,_(n,a,4),r,o)}};m.reduce=m.foldl=m.inject=I(1),m.reduceRight=m.foldr=I(-1),m.find=m.detect=function(e,t,n){var r=P(e)?m.findIndex:m.findKey,a=r(e,t,n);if(void 0!==a&&-1!==a)return e[a]},m.filter=m.select=function(e,t,n){var r=[];return t=j(t,n),m.each(e,function(e,n,a){t(e,n,a)&&r.push(e)}),r},m.reject=function(e,t,n){return m.filter(e,m.negate(j(t)),n)},m.every=m.all=function(e,t,n){t=j(t,n);for(var r=!P(e)&&m.keys(e),a=(r||e).length,o=0;o<a;o++){var u=r?r[o]:o;if(!t(e[u],u,e))return!1}return!0},m.some=m.any=function(e,t,n){t=j(t,n);for(var r=!P(e)&&m.keys(e),a=(r||e).length,o=0;o<a;o++){var u=r?r[o]:o;if(t(e[u],u,e))return!0}return!1},m.contains=m.includes=m.include=function(e,t,n,r){return P(e)||(e=m.values(e)),("number"!=typeof n||r)&&(n=0),m.indexOf(e,t,n)>=0},m.invoke=k(function(e,t,n){var r,a;return m.isFunction(t)?a=t:m.isArray(t)&&(r=t.slice(0,-1),t=t[t.length-1]),m.map(e,function(e){var o=a;if(!o){if(r&&r.length&&(e=E(e,r)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)})}),m.pluck=function(e,t){return m.map(e,m.property(t))},m.where=function(e,t){return m.filter(e,m.matcher(t))},m.findWhere=function(e,t){return m.find(e,m.matcher(t))},m.max=function(e,t,n){var r,a,o=-1/0,u=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=P(e)?e:m.values(e);for(var i=0,l=e.length;i<l;i++)null!=(r=e[i])&&r>o&&(o=r)}else t=j(t,n),m.each(e,function(e,n,r){((a=t(e,n,r))>u||a===-1/0&&o===-1/0)&&(o=e,u=a)});return o},m.min=function(e,t,n){var r,a,o=1/0,u=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=P(e)?e:m.values(e);for(var i=0,l=e.length;i<l;i++)null!=(r=e[i])&&r<o&&(o=r)}else t=j(t,n),m.each(e,function(e,n,r){((a=t(e,n,r))<u||a===1/0&&o===1/0)&&(o=e,u=a)});return o},m.shuffle=function(e){return m.sample(e,1/0)},m.sample=function(e,t,n){if(null==t||n)return P(e)||(e=m.values(e)),e[m.random(e.length-1)];var r=P(e)?m.clone(e):m.values(e),a=S(r);t=Math.max(Math.min(t,a),0);for(var o=a-1,u=0;u<t;u++){var i=m.random(u,o),l=r[u];r[u]=r[i],r[i]=l}return r.slice(0,t)},m.sortBy=function(e,t,n){var r=0;return t=j(t,n),m.pluck(m.map(e,function(e,n,a){return{value:e,index:r++,criteria:t(e,n,a)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var M=function(e,t){return function(n,r,a){var o=t?[[],[]]:{};return r=j(r,a),m.each(n,function(t,a){var u=r(t,a,n);e(o,t,u)}),o}};m.groupBy=M(function(e,t,n){x(e,n)?e[n].push(t):e[n]=[t]}),m.indexBy=M(function(e,t,n){e[n]=t}),m.countBy=M(function(e,t,n){x(e,n)?e[n]++:e[n]=1});var A=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;m.toArray=function(e){return e?m.isArray(e)?s.call(e):m.isString(e)?e.match(A):P(e)?m.map(e,m.identity):m.values(e):[]},m.size=function(e){return null==e?0:P(e)?e.length:m.keys(e).length},m.partition=M(function(e,t,n){e[n?0:1].push(t)},!0),m.first=m.head=m.take=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[0]:m.initial(e,e.length-t)},m.initial=function(e,t,n){return s.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},m.last=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[e.length-1]:m.rest(e,Math.max(0,e.length-t))},m.rest=m.tail=m.drop=function(e,t,n){return s.call(e,null==t||n?1:t)},m.compact=function(e){return m.filter(e,Boolean)};var N=function(e,t,n,r){r=r||[];for(var a=r.length,o=0,u=S(e);o<u;o++){var i=e[o];if(P(i)&&(m.isArray(i)||m.isArguments(i)))if(t)for(var l=0,c=i.length;l<c;)r[a++]=i[l++];else N(i,t,n,r),a=r.length;else n||(r[a++]=i)}return r};m.flatten=function(e,t){return N(e,t,!1)},m.without=k(function(e,t){return m.difference(e,t)}),m.uniq=m.unique=function(e,t,n,r){m.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=j(n,r));for(var a=[],o=[],u=0,i=S(e);u<i;u++){var l=e[u],c=n?n(l,u,e):l;t&&!n?(u&&o===c||a.push(l),o=c):n?m.contains(o,c)||(o.push(c),a.push(l)):m.contains(a,l)||a.push(l)}return a},m.union=k(function(e){return m.uniq(N(e,!0,!0))}),m.intersection=function(e){for(var t=[],n=arguments.length,r=0,a=S(e);r<a;r++){var o=e[r];if(!m.contains(t,o)){var u;for(u=1;u<n&&m.contains(arguments[u],o);u++);u===n&&t.push(o)}}return t},m.difference=k(function(e,t){return t=N(t,!0,!0),m.filter(e,function(e){return!m.contains(t,e)})}),m.unzip=function(e){for(var t=e&&m.max(e,S).length||0,n=Array(t),r=0;r<t;r++)n[r]=m.pluck(e,r);return n},m.zip=k(m.unzip),m.object=function(e,t){for(var n={},r=0,a=S(e);r<a;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n};var T=function(e){return function(t,n,r){n=j(n,r);for(var a=S(t),o=e>0?0:a-1;o>=0&&o<a;o+=e)if(n(t[o],o,t))return o;return-1}};m.findIndex=T(1),m.findLastIndex=T(-1),m.sortedIndex=function(e,t,n,r){n=j(n,r,1);for(var a=n(t),o=0,u=S(e);o<u;){var i=Math.floor((o+u)/2);n(e[i])<a?o=i+1:u=i}return o};var R=function(e,t,n){return function(r,a,o){var u=0,i=S(r);if("number"==typeof o)e>0?u=o>=0?o:Math.max(o+i,u):i=o>=0?Math.min(o+1,i):o+i+1;else if(n&&o&&i)return o=n(r,a),r[o]===a?o:-1;if(a!==a)return o=t(s.call(r,u,i),m.isNaN),o>=0?o+u:-1;for(o=e>0?u:i-1;o>=0&&o<i;o+=e)if(r[o]===a)return o;return-1}};m.indexOf=R(1,m.findIndex,m.sortedIndex),m.lastIndexOf=R(-1,m.findLastIndex),m.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),a=Array(r),o=0;o<r;o++,e+=n)a[o]=e;return a},m.chunk=function(e,t){if(null==t||t<1)return[];for(var n=[],r=0,a=e.length;r<a;)n.push(s.call(e,r,r+=t));return n};var U=function(e,t,n,r,a){if(!(r instanceof t))return e.apply(n,a);var o=O(e.prototype),u=e.apply(o,a);return m.isObject(u)?u:o};m.bind=k(function(e,t,n){if(!m.isFunction(e))throw new TypeError("Bind must be called on a function");var r=k(function(a){return U(e,r,t,this,n.concat(a))});return r}),m.partial=k(function(e,t){var n=m.partial.placeholder,r=function(){for(var a=0,o=t.length,u=Array(o),i=0;i<o;i++)u[i]=t[i]===n?arguments[a++]:t[i];for(;a<arguments.length;)u.push(arguments[a++]);return U(e,r,this,this,u)};return r}),m.partial.placeholder=m,m.bindAll=k(function(e,t){t=N(t,!1,!1);var n=t.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=m.bind(e[r],e)}}),m.memoize=function(e,t){var n=function(r){var a=n.cache,o=""+(t?t.apply(this,arguments):r);return x(a,o)||(a[o]=e.apply(this,arguments)),a[o]};return n.cache={},n},m.delay=k(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),m.defer=m.partial(m.delay,m,1),m.throttle=function(e,t,n){var r,a,o,u,i=0;n||(n={});var l=function(){i=!1===n.leading?0:m.now(),r=null,u=e.apply(a,o),r||(a=o=null)},c=function(){var c=m.now();i||!1!==n.leading||(i=c);var f=t-(c-i);return a=this,o=arguments,f<=0||f>t?(r&&(clearTimeout(r),r=null),i=c,u=e.apply(a,o),r||(a=o=null)):r||!1===n.trailing||(r=setTimeout(l,f)),u};return c.cancel=function(){clearTimeout(r),i=0,r=a=o=null},c},m.debounce=function(e,t,n){var r,a,o=function(t,n){r=null,n&&(a=e.apply(t,n))},u=k(function(u){if(r&&clearTimeout(r),n){var i=!r;r=setTimeout(o,t),i&&(a=e.apply(this,u))}else r=m.delay(o,t,this,u);return a});return u.cancel=function(){clearTimeout(r),r=null},u},m.wrap=function(e,t){return m.partial(t,e)},m.negate=function(e){return function(){return!e.apply(this,arguments)}},m.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},m.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},m.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},m.once=m.partial(m.before,2),m.restArguments=k;var D=!{toString:null}.propertyIsEnumerable("toString"),F=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],B=function(e,t){var n=F.length,r=e.constructor,a=m.isFunction(r)&&r.prototype||l,o="constructor";for(x(e,o)&&!m.contains(t,o)&&t.push(o);n--;)(o=F[n])in e&&e[o]!==a[o]&&!m.contains(t,o)&&t.push(o)};m.keys=function(e){if(!m.isObject(e))return[];if(y)return y(e);var t=[];for(var n in e)x(e,n)&&t.push(n);return D&&B(e,t),t},m.allKeys=function(e){if(!m.isObject(e))return[];var t=[];for(var n in e)t.push(n);return D&&B(e,t),t},m.values=function(e){for(var t=m.keys(e),n=t.length,r=Array(n),a=0;a<n;a++)r[a]=e[t[a]];return r},m.mapObject=function(e,t,n){t=j(t,n);for(var r=m.keys(e),a=r.length,o={},u=0;u<a;u++){var i=r[u];o[i]=t(e[i],i,e)}return o},m.pairs=function(e){for(var t=m.keys(e),n=t.length,r=Array(n),a=0;a<n;a++)r[a]=[t[a],e[t[a]]];return r},m.invert=function(e){for(var t={},n=m.keys(e),r=0,a=n.length;r<a;r++)t[e[n[r]]]=n[r];return t},m.functions=m.methods=function(e){var t=[];for(var n in e)m.isFunction(e[n])&&t.push(n);return t.sort()};var L=function(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var a=1;a<r;a++)for(var o=arguments[a],u=e(o),i=u.length,l=0;l<i;l++){var c=u[l];t&&void 0!==n[c]||(n[c]=o[c])}return n}};m.extend=L(m.allKeys),m.extendOwn=m.assign=L(m.keys),m.findKey=function(e,t,n){t=j(t,n);for(var r,a=m.keys(e),o=0,u=a.length;o<u;o++)if(r=a[o],t(e[r],r,e))return r};var q=function(e,t,n){return t in n};m.pick=k(function(e,t){var n={},r=t[0];if(null==e)return n;m.isFunction(r)?(t.length>1&&(r=_(r,t[1])),t=m.allKeys(e)):(r=q,t=N(t,!1,!1),e=Object(e));for(var a=0,o=t.length;a<o;a++){var u=t[a],i=e[u];r(i,u,e)&&(n[u]=i)}return n}),m.omit=k(function(e,t){var n,r=t[0];return m.isFunction(r)?(r=m.negate(r),t.length>1&&(n=t[1])):(t=m.map(N(t,!1,!1),String),r=function(e,n){return!m.contains(t,n)}),m.pick(e,r,n)}),m.defaults=L(m.allKeys,!0),m.create=function(e,t){var n=O(e);return t&&m.extendOwn(n,t),n},m.clone=function(e){return m.isObject(e)?m.isArray(e)?e.slice():m.extend({},e):e},m.tap=function(e,t){return t(e),e},m.isMatch=function(e,t){var n=m.keys(t),r=n.length;if(null==e)return!r;for(var a=Object(e),o=0;o<r;o++){var u=n[o];if(t[u]!==a[u]||!(u in a))return!1}return!0};var H,G;H=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var a=typeof e;return("function"===a||"object"===a||"object"==typeof t)&&G(e,t,n,r)},G=function(e,t,n,r){e instanceof m&&(e=e._wrapped),t instanceof m&&(t=t._wrapped);var a=p.call(e);if(a!==p.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return c.valueOf.call(e)===c.valueOf.call(t)}var o="[object Array]"===a;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var u=e.constructor,i=t.constructor;if(u!==i&&!(m.isFunction(u)&&u instanceof u&&m.isFunction(i)&&i instanceof i)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var l=n.length;l--;)if(n[l]===e)return r[l]===t;if(n.push(e),r.push(t),o){if((l=e.length)!==t.length)return!1;for(;l--;)if(!H(e[l],t[l],n,r))return!1}else{var f,s=m.keys(e);if(l=s.length,m.keys(t).length!==l)return!1;for(;l--;)if(f=s[l],!x(t,f)||!H(e[f],t[f],n,r))return!1}return n.pop(),r.pop(),!0},m.isEqual=function(e,t){return H(e,t)},m.isEmpty=function(e){return null==e||(P(e)&&(m.isArray(e)||m.isString(e)||m.isArguments(e))?0===e.length:0===m.keys(e).length)},m.isElement=function(e){return!(!e||1!==e.nodeType)},m.isArray=h||function(e){return"[object Array]"===p.call(e)},m.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},m.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){m["is"+e]=function(t){return p.call(t)==="[object "+e+"]"}}),m.isArguments(arguments)||(m.isArguments=function(e){return x(e,"callee")});var W=o.document&&o.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof W&&(m.isFunction=function(e){return"function"==typeof e||!1}),m.isFinite=function(e){return!m.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},m.isNaN=function(e){return m.isNumber(e)&&isNaN(e)},m.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===p.call(e)},m.isNull=function(e){return null===e},m.isUndefined=function(e){return void 0===e},m.has=function(e,t){if(!m.isArray(t))return x(e,t);for(var n=t.length,r=0;r<n;r++){var a=t[r];if(null==e||!d.call(e,a))return!1;e=e[a]}return!!n},m.noConflict=function(){return o._=u,this},m.identity=function(e){return e},m.constant=function(e){return function(){return e}},m.noop=function(){},m.property=function(e){return m.isArray(e)?function(t){return E(t,e)}:w(e)},m.propertyOf=function(e){return null==e?function(){}:function(t){return m.isArray(t)?E(e,t):e[t]}},m.matcher=m.matches=function(e){return e=m.extendOwn({},e),function(t){return m.isMatch(t,e)}},m.times=function(e,t,n){var r=Array(Math.max(0,e));t=_(t,n,1);for(var a=0;a<e;a++)r[a]=t(a);return r},m.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},m.now=Date.now||function(){return(new Date).getTime()};var K={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},z=m.invert(K),Y=function(e){var t=function(t){return e[t]},n="(?:"+m.keys(e).join("|")+")",r=RegExp(n),a=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(a,t):e}};m.escape=Y(K),m.unescape=Y(z),m.result=function(e,t,n){m.isArray(t)||(t=[t]);var r=t.length;if(!r)return m.isFunction(n)?n.call(e):n;for(var a=0;a<r;a++){var o=null==e?void 0:e[t[a]];void 0===o&&(o=n,a=r),e=m.isFunction(o)?o.call(e):o}return e};var J=0;m.uniqueId=function(e){var t=++J+"";return e?e+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var V=/(.)^/,$={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Q=/\\|'|\r|\n|\u2028|\u2029/g,X=function(e){return"\\"+$[e]};m.template=function(e,t,n){!t&&n&&(t=n),t=m.defaults({},t,m.templateSettings);var r=RegExp([(t.escape||V).source,(t.interpolate||V).source,(t.evaluate||V).source].join("|")+"|$","g"),a=0,o="__p+='";e.replace(r,function(t,n,r,u,i){return o+=e.slice(a,i).replace(Q,X),a=i+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":u&&(o+="';\n"+u+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";var u;try{u=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var i=function(e){return u.call(this,e,m)};return i.source="function("+(t.variable||"obj")+"){\n"+o+"}",i},m.chain=function(e){var t=m(e);return t._chain=!0,t};var Z=function(e,t){return e._chain?m(t).chain():t};m.mixin=function(e){return m.each(m.functions(e),function(t){var n=m[t]=e[t];m.prototype[t]=function(){var e=[this._wrapped];return f.apply(e,arguments),Z(this,n.apply(m,e))}}),m},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];m.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],Z(this,n)}}),m.each(["concat","join","slice"],function(e){var t=i[e];m.prototype[e]=function(){return Z(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return String(this._wrapped)},r=[],void 0!==(a=function(){return m}.apply(t,r))&&(n.exports=a)}()}).call(t,n(8),n(9)(e))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":c(t))&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":c(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),d=r(p),h=n(11),y=r(h),v=function(e){function t(e){u(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._inputRef=d.default.createRef(),n._handleChange=n._handleChange.bind(n),n}return l(t,e),s(t,[{key:"renderError",value:function(e){if(e)return d.default.createElement("div",{className:"block__input__error-text"},e)}},{key:"_handleDrop",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"_handleChange",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onChange(this._inputRef.current.files)}},{key:"render",value:function(){var e,t=this.props,n=t.value,r=t.error,u=t.styles,i=(t.onChange,o(t,["value","error","styles","onChange"]));u=u||{};var l=(0,y.default)((e={block__input:!0,"block__input--empty":!n,"block__input--error":r},a(e,"block__input--"+u.padding+"-padding",u.padding),a(e,"block__input--"+u.text+"-text",u.text),e));return d.default.createElement("div",{className:"block__input__row"},d.default.createElement("div",{className:"block__input__wrapper"},d.default.createElement("input",f({},i,{ref:this._inputRef,type:"file",className:l,onDrop:this._handleDrop,onChange:this._handleChange}))),this.renderError(r))}}]),t}(p.Component);t.default=v},function(e,t,n){var r,a;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)&&r.length){var u=n.apply(null,r);u&&e.push(u)}else if("object"===a)for(var i in r)o.call(r,i)&&r[i]&&e.push(i)}}return e.join(" ")}var o={}.hasOwnProperty;void 0!==e&&e.exports?(n.default=n,e.exports=n):(r=[],void 0!==(a=function(){return n}.apply(t,r))&&(e.exports=a))}()}])});
//# sourceMappingURL=megadraft-uploadable-image-plugin.js.map